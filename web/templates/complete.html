<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>All Sessions Complete</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body class="auth-body">
    <div class="auth-page">
        <div class="auth-top-bar">
            <button id="theme-toggle" type="button" class="btn btn-ghost" title="Toggle dark mode">ðŸŒ™</button>
        </div>
        <div class="auth-card">
            <h1>Great job, {{ username }}! ðŸŽ‰</h1>
            <p class="auth-subtitle">
                Youâ€™ve completed all {{ session_target }} sessions. Thank you for contributing to our study.
            </p>
            <a href="{{ url_for('logout') }}" class="btn btn-primary" style="width: 100%; text-align: center;">Switch User</a>
        </div>
    </div>
    <script>
    (function initTheme(){
        const root = document.documentElement;
        const toggleBtn = document.getElementById('theme-toggle');
        const saved = localStorage.getItem('theme') || 'light';
        if (saved === 'dark') {
            root.setAttribute('data-theme', 'dark');
        }
        function setIcon() {
            if (!toggleBtn) return;
            toggleBtn.textContent = root.getAttribute('data-theme') === 'dark' ? 'â˜€ï¸' : 'ðŸŒ™';
        }
        setIcon();
        toggleBtn?.addEventListener('click', () => {
            const isDark = root.getAttribute('data-theme') === 'dark';
            const next = isDark ? 'light' : 'dark';
            if (next === 'dark') {
                root.setAttribute('data-theme', 'dark');
            } else {
                root.removeAttribute('data-theme');
            }
            localStorage.setItem('theme', next);
            setIcon();
        });
    })();
    </script>
</body>
</html>
